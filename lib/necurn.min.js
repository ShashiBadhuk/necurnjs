"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){if("object"===("undefined"==typeof exports?"undefined":_typeof2(exports))&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.beepBoop=e()}}(function(){var e;return function e(t,n,o){function r(u,s){if(!n[u]){if(!t[u]){var a="function"==typeof require&&require;if(!s&&a)return a(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[u]={exports:{}};t[u][0].call(c.exports,function(e){var n=t[u][1][e];return r(n||e)},c,c.exports,e,t,n,o)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<o.length;u++)r(o[u]);return r}({1:[function(t,n,o){!function(t){var o=function e(t,n){var o=/[^\w\-\.:]/.test(t)?new Function(e.arg+",tmpl","var _e=tmpl.encode"+e.helper+",_s='"+t.replace(e.regexp,e.func)+"';return _s;"):e.cache[t]=e.cache[t]||e(e.load(t));return n?o(n,e):function(t){return o(t,e)}};o.cache={},o.load=function(e){return document.getElementById(e).innerHTML},o.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,o.func=function(e,t,n,o,r,i){return t?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[t]||"\\"+t:n?"="===n?"'+_e("+o+")+'":"'+("+o+"==null?'':"+o+")+'":r?"';":i?"_s+='":void 0},o.encReg=/[<>&"'\x00]/g,o.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},o.encode=function(e){return(null==e?"":""+e).replace(o.encReg,function(e){return o.encMap[e]||""})},o.arg="o",o.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof e&&e.amd?e(function(){return o}):"object"===(void 0===n?"undefined":_typeof2(n))&&n.exports?n.exports=o:t.tmpl=o}(this)},{}],2:[function(t,n,o){!function(t,r){"object"===(void 0===o?"undefined":_typeof2(o))&&"object"===(void 0===n?"undefined":_typeof2(n))?n.exports=r():"function"==typeof e&&e.amd?e("Navigo",[],r):"object"===(void 0===o?"undefined":_typeof2(o))?o.Navigo=r():t.Navigo=r()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return Array.isArray(e)?e:Array.from(e)}function r(e){return e instanceof RegExp?e:e.replace(/\/+$/,"").replace(/^\/+/,"/")}function i(e,t){return 0===t.length?null:e?e.slice(1,e.length).reduce(function(e,n,o){return null===e&&(e={}),e[t[o]]=n,e},null):null}function u(e){var t,n=[];return t=e instanceof RegExp?e:new RegExp(r(e).replace(g,function(e,t,o){return n.push(o),w}).replace(m,b)+k),{regexp:t,paramNames:n}}function s(e){return e.replace(/\/$/,"").split("/").length}function a(e,t){return s(t)-s(e)}function l(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map(function(t){var n=u(t.route),o=n.regexp,r=n.paramNames,s=e.match(o),a=i(s,r);return!!s&&{match:s,route:t,params:a}}).filter(function(e){return e})}function c(e,t){return l(e,t)[0]||!1}function f(e,t){var n=l(e,t.filter(function(e){var t=r(e.route);return""!==t&&"*"!==t})),o=r(e);return n.length>0?n.map(function(t){return r(e.substr(0,t.match.index))}).reduce(function(e,t){return t.length<e.length?t:e},o):o}function d(){return!("undefined"==typeof window||!window.history||!window.history.pushState)}function h(){return!!("undefined"!=typeof window&&"onhashchange"in window)}function p(e,t){var n=e.split(/\?(.*)?$/),r=o(n),i=r[0],u=r.slice(1);return t||(i=i.split("#")[0]),{onlyURL:i,GETParameters:u.join("")}}function v(e,t){if(t&&t.hooks&&"object"===_(t.hooks))return void(t.hooks.before?t.hooks.before(function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(e(),t.hooks.after&&t.hooks.after())}):t.hooks.after&&(e(),t.hooks.after&&t.hooks.after()));e()}function y(e,t){this.root=null,this._routes=[],this._useHash=t,this._paused=!1,this._destroyed=!1,this._lastRouteResolved=null,this._notFoundHandler=null,this._defaultHandler=null,this._usePushState=!t&&d(),e?this.root=e.replace(/\/$/,"/#"):t&&(this.root=this._cLoc().split("#")[0].replace(/\/$/,"/#")),this._listen(),this.updatePageLinks()}Object.defineProperty(t,"__esModule",{value:!0});var _="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},g=/([:*])(\w+)/g,m=/\*/g,w="([^/]+)",b="(?:.*)",k="(?:/$|$)";y.prototype={helpers:{match:c,root:f,clean:r},navigate:function(e,t){var n;return e=e||"",this._usePushState?(n=(t?"":this._getRoot()+"/")+e.replace(/^\/+/,"/"),n=n.replace(/([^:])(\/{2,})/g,"$1/"),history[this._paused?"replaceState":"pushState"]({},"",n),this.resolve()):"undefined"!=typeof window&&(window.location.href=window.location.href.replace(/#(.*)$/,"")+"#"+e),this},on:function(){for(var e=this,t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];if("function"==typeof n[0])this._defaultHandler={handler:n[0],hooks:n[1]};else if(n.length>=2)"/"===n[0]?this._defaultHandler={handler:n[1],hooks:n[2]}:this._add(n[0],n[1],n[2]);else if("object"===_(n[0])){var r=Object.keys(n[0]).sort(a);r.forEach(function(t){e._add(t,n[0][t])})}return this},off:function(e){return null!==this._defaultHandler&&e===this._defaultHandler.handler?this._defaultHandler=null:null!==this._notFoundHandler&&e===this._notFoundHandler.handler&&(this._notFoundHandler=null),this._routes=this._routes.reduce(function(t,n){return n.handler!==e&&t.push(n),t},[]),this},notFound:function(e,t){return this._notFoundHandler={handler:e,hooks:t},this},resolve:function(e){var t,o,r=this,i=(e||this._cLoc()).replace(this._getRoot(),"");this._useHash&&(i=i.replace(/^\/#/,"/"));var u=p(i,this._useHash),s=u.onlyURL,a=u.GETParameters;return!(this._paused||this._lastRouteResolved&&s===this._lastRouteResolved.url&&a===this._lastRouteResolved.query)&&((o=c(s,this._routes))?(this._lastRouteResolved={url:s,query:a},t=o.route.handler,v(function(){o.route.route instanceof RegExp?t.apply(void 0,n(o.match.slice(1,o.match.length))):t(o.params,a)},o.route),o):!this._defaultHandler||""!==s&&"/"!==s&&"#"!==s?(this._notFoundHandler&&v(function(){r._lastRouteResolved={url:s,query:a},r._notFoundHandler.handler(a)},this._notFoundHandler),!1):(v(function(){r._lastRouteResolved={url:s,query:a},r._defaultHandler.handler(a)},this._defaultHandler),!0))},destroy:function(){this._routes=[],this._destroyed=!0,clearTimeout(this._listenningInterval),"undefined"!=typeof window&&(window.onpopstate=null)},updatePageLinks:function(){var e=this;"undefined"!=typeof document&&this._findLinks().forEach(function(t){t.hasListenerAttached||(t.addEventListener("click",function(n){var o=t.getAttribute("href");e._destroyed||(n.preventDefault(),e.navigate(r(o)))}),t.hasListenerAttached=!0)})},generate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._routes.reduce(function(n,o){var r;if(o.name===e){n=o.route;for(r in t)n=n.replace(":"+r,t[r])}return n},"");return this._useHash?"#"+n:n},link:function(e){return this._getRoot()+e},pause:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._paused=e},resume:function(){this.pause(!1)},disableIfAPINotAvailable:function(){d()||this.destroy()},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"object"===(void 0===t?"undefined":_(t))?this._routes.push({route:e,handler:t.uses,name:t.as,hooks:n||t.hooks}):this._routes.push({route:e,handler:t,hooks:n}),this._add},_getRoot:function(){return null!==this.root?this.root:(this.root=f(this._cLoc(),this._routes),this.root)},_listen:function(){var e=this;this._usePushState?window.onpopstate=function(){e.resolve()}:h()?window.onhashchange=function(){e.resolve()}:function(){var t=e._cLoc(),n=void 0,o=void 0;(o=function(){n=e._cLoc(),t!==n&&(t=n,e.resolve()),e._listenningInterval=setTimeout(o,200)})()}()},_cLoc:function(){return"undefined"!=typeof window?r(window.location.href):""},_findLinks:function(){return[].slice.call(document.querySelectorAll("[data-navigo]"))}},t.default=y,e.exports=t.default}])})},{}],3:[function(e,t,n){var o=function e(t){_classCallCheck(this,e),t.before&&t.before(),window.NC||(window.NC=new Object),window.NC.region=t.region,t.init&&t.init(),t.router?t.router.start():console.error("[Necurn.Application] Router is missing.")};t.exports=o},{}],4:[function(e,t,n){var o=function(){function e(t){_classCallCheck(this,e);for(var n in t)console.log(n),this[n]=t[n];t.init&&t.init()}return _createClass(e,[{key:"initLayout",value:function(){var e=document.querySelector(this.container);e?this.layout?e.innerHTML=this.layout:console.error("[Necurn.Controller] layout is required for view initialization."):console.error("[Necurn.Controller] Container is required for layout initialization.")}},{key:"render",value:function(e,t){var n=document.querySelector(this.container+" "+e);if(t?(t.onBeforeShow&&t.onBeforeShow(),n||(this.initLayout(),n=document.querySelector(this.container+" "+e)),n?n.innerHTML=t.find().html?t.find().html:"Empty View":console.error("[Necurn.Controller] Container is required for View rendering."),t.onShow&&t.onShow()):console.error("[Necurn.Controller.render] No view is to be render."),n.addEventListener("keydown",function(e){var n=e.target.getAttribute("nc-viewindex");if(n){var o=t.find().model.collection[n];t.onKeyDown(e,o)}}),n.addEventListener("click",function(e){var n=e.target.getAttribute("nc-viewindex");if(n){var o=t.find().model.collection[n];t.onClick(e,o)}}),this.events)for(var o=0;o<this.events.length;o++){var r=document.querySelector(this.events[o].selector);if(r)switch(this.events[o].type){case"click":this.events[o].handler&&r.addEventListener("click",this.events[o].handler)}}}}]),e}();t.exports=o},{}],5:[function(e,t,n){var o=function e(t){_classCallCheck(this,e),this.attributes=t.data;var n=this.attributes[t.subModel];this.collection=new Array;for(var o in n)this.collection.push(n[o])};t.exports=o},{}],6:[function(e,t,n){var o=e("navigo"),r=function(){function e(t){_classCallCheck(this,e);var n=t.routes,r=t.root?t.root:null,i=!t.hash||t.hash;this.router=new o(r,i),console.log(this.router);var u=t.default.before?t.default.before:null,s=t.default.after?t.default.after:null,a={before:u,after:s};for(var l in n){try{var c=n[l].before?n[l].before:t.default.before}catch(e){var c=t.default.before}try{var f=n[l].after?n[l].after:t.default.after}catch(e){var f=t.default.after}var d={before:c,after:f},h=t.notFound?t.notFound:null;"function"==typeof n[l]?h=n[l]:"object"==_typeof2(n[l])&&(h=n[l].controller),this.router.on("/"+l,h,d)}var p=this;this.router.on(function(){t.default.route&&p.router.navigate(t.default.route),t.default.action&&t.default.action()},a),t.notFound&&this.router.notFound(t.notFound),t.init&&(this.init=t.init)}return _createClass(e,[{key:"start",value:function(){this.router.resolve(),this.init()}}]),e}();t.exports=r},{navigo:2}],7:[function(e,t,n){!function(){var e={request:function(e){var t=new XMLHttpRequest;if(t.open(e.type,e.url,!0),t.setRequestHeader("Content-type",e.contentType),e.headers)for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);t.timeout=e.timeout?e.timeout:15e3,e.ontimeout&&(t.ontimeout=e.ontimeout),t.onreadystatechange=function(){try{if(4==t.readyState&&200==t.status)try{e.success(JSON.parse(t.responseText))}catch(n){e.success(t.responseText)}else if(3==t.readyState||2==t.readyState);else try{e.error(JSON.parse(t.responseText))}catch(n){e.error(t.responseText)}}catch(e){console.log(e)}},t.send(e.data)}},n={set:function(e,t,n,o){if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var i="; expires="+r.toGMTString()}else{var r=new Date;r.setTime(r.getTime()+1296e6);var i="; expires="+r.toGMTString()}var u=o||"/";document.cookie=e+"="+t+i+"; path="+u},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "==r.charAt(0);)r=r.substring(1,r.length);if(0==r.indexOf(t))try{return cisco?JSON.parse(r.substring(t.length,r.length)):r.substring(t.length,r.length)}catch(e){return r.substring(t.length,r.length)}}return null},delete:function(e){this.set(e,"",-1)}},o={XHR:e,Cookies:n,log:function(e){console.log(e)}};t.exports=o}()},{}],8:[function(e,t,n){var o=e("blueimp-tmpl"),r=function(){function e(t){_classCallCheck(this,e),this.template=t.template,this.model=t.model,this.model||(this.model={}),t.init&&t.init()}return _createClass(e,[{key:"find",value:function(){return{html:o(this.template,this.model),model:this.model}}},{key:"onKeyDown",value:function(e,t){console.log("Key is pressed.")}},{key:"onClick",value:function(e,t){console.log("Clicked.",e.target),console.log("Model.",t)}}]),e}();t.exports=r},{"blueimp-tmpl":1}],9:[function(e,t,n){!function(){var n=e("./N.Application"),o=e("./N.Router"),r=e("./N.Controller"),i=e("./N.View"),u=e("./N.Model"),s=e("./N.Util"),a={Application:n,Router:o,Controller:r,View:i,Model:u};for(var l in s)a[l]=s[l];"object"===(void 0===t?"undefined":_typeof2(t))&&"object"===_typeof2(t.exports)?t.exports=a:window.Necurn=a}()},{"./N.Application":3,"./N.Controller":4,"./N.Model":5,"./N.Router":6,"./N.Util":7,"./N.View":8}]},{},[9])(9)});